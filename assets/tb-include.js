(function () { 'use strict'; function readFileSync(path){ try{ var xhr=new XMLHttpRequest(); if(xhr.overrideMimeType) xhr.overrideMimeType('text/html'); xhr.open('GET', path, false); xhr.send(null); if(xhr.status===200||xhr.status===0){ return xhr.responseText; } return null; } catch(e){ return null; } } var MAP={ header:'partials/header.html', footer:'partials/footer.html' }; window.TBInclude=function(nameOrPath){ var path=MAP[nameOrPath]||nameOrPath; var html=readFileSync(path); if(html==null){ document.write('<!-- TBInclude: failed to load '+String(path)+' -->'); return; } document.write(html); }; })();